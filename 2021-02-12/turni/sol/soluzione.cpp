romeo_ottima_with_checks.cpp