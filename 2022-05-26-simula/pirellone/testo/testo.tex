
\documentclass[a4paper,11pt]{article}

\usepackage[utf8x]{inputenc}
\SetUnicodeOption{mathletters}
\SetUnicodeOption{autogenerated}

\usepackage[italian]{babel}
\usepackage{booktabs}
\usepackage{mathpazo}
\usepackage{graphicx}
\usepackage[left=2cm, right=2cm, bottom=3cm]{geometry}
\frenchspacing

\begin{document}
\noindent {\Large Selezioni nazionali 2005}
\vspace{0.5cm}

\noindent {\Huge Luci al Pirellone (\texttt{pirellone})}


\vspace{0.5cm}
\section*{Descrizione del problema}
  
Il Pirellone è un noto grattacielo di Milano, in cui le
finestre sono disposte ordinatamente per $M$ righe (piani) e
$N$ colonne. Le righe sono numerate da $1$ a $M$
(dall'alto in basso) e le colonne da $1$ a $N$ (da sinistra a
destra).

Non tutti i dipendenti spengono la luce dei loro uffici, la sera prima
di uscire. Quindi alcune finestre rimangono illuminate e tocca al
custode provvedere a spegnerle.

Per facilitare il compito del custode, sono stati predisposti
$M+N$ interruttori speciali, con un funzionamento
particolare.  Ci sono $M$ interruttori di riga e $N$
interruttori di colonna.  Quando il custode agisce
sull'$i$-esimo interruttore di riga, tutte le luci accese
dell'$i$-esima riga si spengono ma, allo stesso tempo, quelle
spente si accendono! Analogamente alle righe, un interruttore di
colonna spegne le luci accese di quella colonna e accende quelle
spente.

Aiuta il custode a decidere quali degli $M+N$
interruttori azionare al fine di spegnere tutte le luci delle finestre
del Pirellone. Data la configurazione iniziale di luci, il custode
deve verificare se sia possibile spegnere le luci con gli interruttori
speciali e, in tal caso, deve specificare anche su quali interruttori
agire. Altrimenti, stabilisce che è necessario utilizzare gli
interruttori tradizionali.


\section*{Dati di input}
  
Il file \texttt{input.txt} contiene nella prima riga gli interi
$M$ e $N$, ovvero il numero di righe e di colonne
del Pirellone, rispettivamente.

Ognuna delle successive $M$ righe contiene una sequenza di
$N$ valori $0$ oppure $1$, separati da uno spazio.  La sequenza
contenuta nell'$i$-esima di tale righe rappresenta lo stato
delle luci nell'$i$-esima riga (piano) del Pirellone. In
particolare, il $j$-esimo valore in tale riga indica se la
$j$-esima luce è accesa (valore = 1) oppure spenta
(valore = 0).


\section*{Dati di output}
  
Il file \texttt{output.txt} deve contenere due linee per indicare
su quali interruttori deve agire il custode.

La prima linea contiene una sequenza di $M$ valori $0$/$1$ separati da uno spazio, per rappresentare le operazioni che il
custode deve effettuare sugli interruttori di riga.
L'$i$-esimo valore della sequenza indica se il custode deve
agire sull'interruttore dell'$i$-esima riga (valore = 1)
oppure no (valore = 0).

Analogamente, la seconda linea contiene una sequenza di $N$
valori  $0$/$1$ separati da uno spazio, per rappresentare le
operazioni che il custode deve effettuare sugli interruttori di
colonna.  Il $j$-esimo valore della sequenza indica se il
custode deve agire sull'interruttore della $j$-esima colonna
oppure no.

Nel caso in cui non sia possibile spegnere tutte le luci del Pirellone
con gli interruttori speciali, tutti i valori delle due linee in
\texttt{output.txt} devono essere uguali a $0$.

  \section*{Assunzioni}
  \begin{itemize}
  
    \item $ 1 < M < 500$
    \item $ 1 < N < 500$
    \item  Il Pirellone ha almeno una luce accesa.
  \end{itemize}

\section*{Esempi di input/output}

  
    \noindent
    \begin{tabular}{p{11cm}|p{5cm}}
    \toprule
    \textbf{File \texttt{input.txt}}
    & \textbf{File \texttt{output.txt}}
    \\
    \midrule
    \scriptsize
    \begin{verbatim}
5 5
1 0 1 1 0
0 1 0 0 1
1 0 1 1 0
0 1 0 0 1
0 1 0 0 1
\end{verbatim}
    &
    \scriptsize
    \begin{verbatim}
1 0 1 0 0
0 1 0 0 1
\end{verbatim}
    \\
    \bottomrule
    \end{tabular}
  
    \noindent
    \begin{tabular}{p{11cm}|p{5cm}}
    \toprule
    \textbf{File \texttt{input.txt}}
    & \textbf{File \texttt{output.txt}}
    \\
    \midrule
    \scriptsize
    \begin{verbatim}
4 5
1 0 1 1 0
0 1 1 0 1
0 1 0 0 1
0 0 1 0 1
\end{verbatim}
    &
    \scriptsize
    \begin{verbatim}
0 0 0 0
0 0 0 0 0
\end{verbatim}
    \\
    \bottomrule
    \end{tabular}
  
\section*{Subtask}

  \begin{itemize}
    \item \textbf{Subtask 1 [0 punti]:} i casi di esempio forniti alla pagina del problema, essi includono i due casi sopra.
    
    \item \textbf{Subtask 2 [50 punti]:} $m,n \le 10$.
    \item \textbf{Subtask 3 [50 punti]:} $m,n \le 500$.
      
  \end{itemize}
  


\end{document}
